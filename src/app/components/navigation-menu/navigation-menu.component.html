<div class="bord nav-card mb-3">
  <nav class="navbar-nav">
    <ul class="nav">
      <li class="nav-item w-100">
        <a
          routerLink="/dashboard"
          class="nav-link d-flex align-items-center"
          routerLinkActive="active"
        >
          <div class="icon-nav me-2">
            <img
              src="assets/icons/home.svg"
              alt=""
              class="nav-icon"
              width="20"
              height="20"
            />
          </div>
          <span class="contact-label">Tableau de bord</span>
        </a>
      </li>
      <li class="nav-item w-100">
        <a
          routerLink="/employees"
          class="nav-link d-flex align-items-center"
          routerLinkActive="active"
        >
          <div class="icon-nav me-2">
            <img
              src="assets/icons/employees.svg"
              alt=""
              class="nav-icon"
              width="20"
              height="20"
            />
          </div>
          <span class="nav-label">Salariés</span>
        </a>
      </li>
      <li class="nav-item w-100">
        <a
          routerLink="/leave-requests"
          class="nav-link d-flex align-items-center"
          routerLinkActive="active"
        >
          <div class="icon-nav me-2">
            <img
              src="assets/icons/leave_request.svg"
              alt=""
              class="nav-icon"
              width="20"
              height="20"
            />
          </div>
          <span class="nav-label">Demandes de congés</span>
        </a>
      </li>
      <li class="nav-item w-100">
        <a
          routerLink="/leave-calendar"
          class="nav-link d-flex align-items-center"
          routerLinkActive="active"
        >
          <div class="icon-nav me-2">
            <img
              src="assets/icons/calendar.svg"
              alt=""
              class="nav-icon"
              width="20"
              height="20"
            />
          </div>
          <span class="nav-label">Calendrier des congés</span>
        </a>
      </li>
      <li class="nav-item w-100">
        <a
          routerLink="/cra"
          class="nav-link d-flex align-items-center"
          routerLinkActive="active"
        >
          <div class="icon-nav me-2">
            <img
              src="assets/icons/cra.svg"
              alt=""
              class="nav-icon"
              width="20"
              height="20"
            />
          </div>
          <span class="nav-label">CRA</span>
        </a>
      </li>
      <li class="nav-item w-100">
        <a
          routerLink="/history"
          class="nav-link d-flex align-items-center"
          routerLinkActive="active"
        >
          <div class="icon-nav me-2">
            <img
              src="assets/icons/history.svg"
              alt=""
              class="nav-icon"
              width="20"
              height="20"
            />
          </div>
          <span class="nav-label">Historique</span>
        </a>
      </li>
      <li class="nav-item w-100">
        <a href="#" class="nav-link d-flex align-items-center">
          <div class="icon-nav me-2">
            <img
              src="assets/icons/settings.svg"
              alt=""
              class="nav-icon"
              width="20"
              height="20"
            />
          </div>
          <span class="nav-label">Paramètres</span>
        </a>
      </li>
    </ul>
  </nav>
</div>

<!-- Carte Information -->
<div class="bord info-card">
  <!-- Titre en haut -->
  <div class="info-title-container">
    <h6 class="info-title">Information</h6>
  </div>

  <!-- Boutons de filtrage en dessous -->
  <div class="info-tabs-container">
    <div class="info-tabs">
      <button
        class="tab-btn"
        [class.active]="selectedPeriod === 'week'"
        (click)="onPeriodChange('week')"
      >
        Semaine
      </button>
      <button
        class="tab-btn"
        [class.active]="selectedPeriod === 'month'"
        (click)="onPeriodChange('month')"
      >
        Mois
      </button>
    </div>
  </div>

  <div class="info-content">
    <!-- Graphique donut -->
    <div class="donut-container">
      <div class="donut-chart">
        <svg width="150" height="150" viewBox="0 0 120 120">
          <!-- Cercle de fond -->
          <circle
            cx="60"
            cy="60"
            r="52"
            stroke="#E2E8F0"
            stroke-width="8"
            fill="none"
          />
          <!-- Cercle de progression avec dégradé -->
          <defs>
            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color: #ff8a4c; stop-opacity: 1" />
              <stop
                offset="100%"
                style="stop-color: #2c6fff; stop-opacity: 1"
              />
            </linearGradient>
          </defs>
          <circle
            cx="60"
            cy="60"
            r="52"
            stroke="url(#gradient)"
            stroke-width="8"
            fill="none"
            [attr.stroke-dasharray]="strokeDasharray"
            stroke-dashoffset="0"
            transform="rotate(-90 60 60)"
            stroke-linecap="round"
            class="progress-circle"
          />
        </svg>

        <div class="donut-center">
          <div class="donut-value">{{ presentEmployees }}</div>
          <div class="donut-label">Salariés présents</div>
          <div class="donut-date">{{ currentDate }}</div>
        </div>
      </div>
    </div>

    <!-- Sélecteurs de dates -->
    <div class="date-selectors">
      <div class="date-input-group">
        <input
          type="date"
          class="date-input"
          [(ngModel)]="startDate"
          (change)="onStartDateChange()"
          [value]="startDate"
        />
        <label class="date-label">Date de début</label>
      </div>

      <div class="date-arrows">
        <i class="bi bi-arrow-right"></i>
        <button
          class="return-btn"
          (click)="goToToday()"
          title="Revenir à aujourd'hui"
        >
          <i class="bi bi-arrow-counterclockwise"></i>
        </button>
      </div>

      <div class="date-input-group">
        <input
          type="date"
          class="date-input"
          [(ngModel)]="endDate"
          (change)="onEndDateChange()"
          [value]="endDate"
        />
        <label class="date-label">Date de fin</label>
      </div>
    </div>
  </div>
</div>
